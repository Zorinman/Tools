# 单篇文章提取指南

## 🎯 快速开始 - 提取单篇文章

### 最简单的用法（3步完成）

```python
from WebContentExtractor import WebContentExtractor, ConfigTemplates

# 1. 选择预设配置（根据网站选择）
config = ConfigTemplates.aliyun_developer()  # 阿里云开发者社区
# config = ConfigTemplates.golangstar()      # golangstar.cn
# config = ConfigTemplates.juejin()          # 掘金
# config = ConfigTemplates.generic_blog()    # 通用博客

# 2. 设置输出目录（可选，默认为 extracted_articles）
config.output_dir = "我的文章"

# 3. 提取文章（自动提取标题）
extractor = WebContentExtractor(config)
results = extractor.extract_articles([
    {
        "title": "文章标题",  # 会作为文件夹名称
        "url": "https://developer.aliyun.com/article/1635071"
    }
])
```

### 输出结构

提取后会生成以下结构：

```
我的文章/
├── README.md                    # 自动生成的索引
└── 文章标题/
    ├── 文章标题.md              # 文章内容
    └── imgs/                    # 图片文件夹
        ├── image_1.png
        ├── image_2.png
        └── ...
```

## 📋 支持的网站预设配置

| 网站 | 配置方法 | 说明 |
|------|---------|------|
| 阿里云开发者社区 | `ConfigTemplates.aliyun_developer()` | developer.aliyun.com |
| golangstar.cn | `ConfigTemplates.golangstar()` | golangstar.cn |
| 掘金 | `ConfigTemplates.juejin()` | juejin.cn |
| 通用博客 | `ConfigTemplates.generic_blog()` | 适用于大多数博客网站 |

## 🔧 自定义配置

如果预设配置不适用，可以自定义：

```python
from WebContentExtractor import WebContentExtractor, ExtractionConfig

config = ExtractionConfig(
    base_url="https://example.com",
    output_dir="提取的文章",
    main_content_selector=".article-content",  # 文章主体的CSS选择器
    title_selector="h1",                       # 标题选择器
    skip_selectors=['nav', 'footer'],          # 要跳过的元素
    download_images=True,                      # 下载图片
    images_folder_name="imgs",                 # 图片文件夹名称
)
```

### 如何找到正确的选择器？

1. **打开浏览器开发者工具**（F12）
2. **点击元素选择器**（Ctrl+Shift+C）
3. **点击文章主体区域**
4. **查看HTML结构**，找到包含文章内容的元素
5. **常见选择器**：
   - `article` - 文章标签
   - `.article-content` - class选择器
   - `#main-content` - id选择器
   - `main` - main标签

## 💡 常见问题

### Q1: 提取的内容不完整？

**解决方案**：调整 `main_content_selector`

```python
# 尝试不同的选择器
config.main_content_selector = "article"
config.main_content_selector = ".content"
config.main_content_selector = "#article-body"
```

### Q2: 提取了不需要的内容（如导航、评论）？

**解决方案**：添加到 `skip_selectors`

```python
config.skip_selectors = ['nav', 'aside', 'footer', '.comments', '.sidebar']
```

### Q3: 图片下载失败？

**解决方案**：
```python
# 增加超时时间
config.timeout = 60

# 或者暂时关闭图片下载
config.download_images = False
```

### Q4: 想修改图片文件夹名称？

**解决方案**：
```python
config.images_folder_name = "images"  # 或其他名称
```

## 📝 完整示例

```python
from WebContentExtractor import WebContentExtractor, ConfigTemplates

# 使用阿里云开发者社区配置
config = ConfigTemplates.aliyun_developer()
config.output_dir = "技术文章"

# 提取单篇文章
extractor = WebContentExtractor(config)
results = extractor.extract_articles([
    {
        "title": "Kubernetes架构详解",
        "url": "https://developer.aliyun.com/article/1635071"
    }
])

# 查看结果
print(f"成功: {results['success_count']} 篇")
print(f"失败: {results['fail_count']} 篇")
```

## ⚙️ 高级配置选项

```python
config = ExtractionConfig(
    # 基本配置
    base_url="https://example.com",
    output_dir="extracted_articles",
    
    # 选择器配置
    main_content_selector="article",
    title_selector="h1",
    skip_selectors=['nav', 'aside', 'footer'],
    
    # 图片配置
    download_images=True,
    images_folder_name="imgs",
    image_skip_keywords=['icon', 'avatar', 'logo'],
    
    # 格式配置
    preserve_bold=True,      # 保留粗体
    preserve_italic=True,    # 保留斜体
    preserve_code=True,      # 保留代码
    preserve_links=True,     # 保留链接
    
    # 请求配置
    timeout=30,              # 超时时间（秒）
    delay=1.0,               # 请求间隔（秒）
    
    # 其他配置
    verbose=True,            # 显示详细信息
    create_index=True,       # 创建索引文件
)
```

## 🚀 批量提取多篇文章

```python
articles = [
    {"title": "文章1", "url": "https://example.com/article1"},
    {"title": "文章2", "url": "https://example.com/article2"},
    {"title": "文章3", "url": "https://example.com/article3"},
]

extractor = WebContentExtractor(config)
results = extractor.extract_articles(articles)
```

---

**提示**: 首次使用建议先测试1篇文章，确认配置正确后再批量提取。
